## Більша частина потужності мови програмування полягає в її бібліотеках.

*   *Бібліотека* — це набір файлів (так звані *модулі*), який містить
    функції для використання іншими програмами.
    *   Може також містити значення даних (наприклад, числові константи) та інші речі.
    *   Library's contents are supposed to be related, but there's no way to enforce that.
*    [Стандартная бібліотека][stdlib]  Python — це великий набір модулів, що постачається
з самим Python.
    *   Багато додаткових бібліотек доступні в [PyPI][pypi]  [PyPI][pypi] (the Python Package Index).
*   Пізніше ми побачимо, як писати нові бібліотеки.

> ## Бібліотеки та модулі
>
> Бібліотека — це набір модулів, але ці терміни часто вживаються 
> взаємозамінно, особливо тому, що багато бібліотек складаються лише з одного
> модуль, тому не хвилюйтеся, якщо ви їх змішуєте..
{: .callout}


## Програма повинна імпортувати бібліотечний модуль перед його використанням.

*   Використовуйте `import`, щоб завантажити модуль бібліотеки в пам'ять програми.
*   Потім посилайтеся на функції модуля як `module_name.function_name`.
    *   Python застосовує `.`, що означає "part of".
*   Використовуючи `math`, один із модулів у стандартній бібліотеці, маємо: 

~~~
import math

print('pi is', math.pi)
print('cos(pi) is', math.cos(math.pi))
~~~
{: .language-python}
~~~
pi is 3.141592653589793
cos(pi) is -1.0
~~~
{: .output}

*   Потрібно посилатися на кожен елемент із назвою модуля.
    *   `math.cos(pi)` не буде працювати: посилання на `pi`
        жодним чином не "успадковує" посилання функції на `math`.

## Використовуйте `help`, щоб дізнатися про вміст бібліотечного модуля. 

*   Працює так само, як довідка для функції.

~~~
help(math)
~~~
{: .language-python}
~~~
Допомога по модулю math:

NAME
    math

MODULE REFERENCE
    http://docs.python.org/3/library/math

    The following documentation is automatically generated from the Python
    source files.  It may be incomplete, incorrect or include features that
    are considered implementation detail and may vary between Python
    implementations.  When in doubt, consult the module reference at the
    location listed above.

DESCRIPTION
    This module is always available.  It provides access to the
    mathematical functions defined by the C standard.

FUNCTIONS
    acos(x, /)
       Повертає арккосінус від x, що вимірюється в радіанах.
⋮ ⋮ ⋮
~~~
{: .output}

## Імпортуйте певні елементи з бібліотечного модуля, щоб скоротити програми.

*   Використовуйте `from ... import ...`, щоб завантажити лише певні елементи з бібліотечного модуля.
*   Потім звертайтеся до них безпосередньо без назви бібліотеки як префікса.

~~~
from math import cos, pi

print('cos(pi) is', cos(pi))
~~~
{: .language-python}
~~~
cos(pi) is -1.0
~~~
{: .output}

## Створіть псевдонім для бібліотечного модуля під час його імпорту для скорочення програм.

*   Використовуйте `import ... as ...`, щоб надати бібліотеці короткий *псевдонім* під час її імпорту.
*   Потім зверніться до елементів у бібліотеці, використовуючи цю скорочену назву.

~~~
import math as m

print('cos(pi) is', m.cos(m.pi))
~~~
{: .language-python}
~~~
cos(pi) is -1.0
~~~
{: .output}

*   Зазвичай використовується для бібліотек, які часто використовуються або мають довгі імена.
    *   Наприклад, бібліотека графіків `matplotlib` часто має псевдонім `mpl`.
*   Але може ускладнювати розуміння програм,
    оскільки читачі повинні знати псевдоніми вашої програми.

> ## Знайомство з модулем Math
>
> 1. За допомогою якої функції з модуля `math` можна обчислити квадратний корінь
>    *без* викоритання `sqrt`?
> 2. Оскільки бібліотека містить цю функцію, чому існує `sqrt`?
>
> > ## Рішення
> > 1. Використовуючи `help(math)` ми бачимо, що у нас є `pow(x,y)` на додаток до `sqrt(x)`,
> >    отже ми можемо застосувати `pow(x, 0.5)` для визначення квадратний корінь.
> > 2. Функція `sqrt(x)`, можливо, легша для читання, ніж `pow(x, 0.5)`, коли
> >    реалізуються рівняння. Читабельність є наріжним каменем хорошого стилю програмування, отже
> >    має сенс надати спеціальну функцію для цього конкретного звичайного випадку.
> >
> >    Крім того, дизайн бібліотеки `math` Python бере свій початок у стандарті C,
> >    який включає як `sqrt(x)`, так і `pow(x,y)`, тож трохи історії
> >    програмування відображається в назвах функцій Python.
> {: .solution}
{: .challenge}

> ## Пошук правильного модуля
>
> Ви хочете вибрати випадковий символ із рядка:
>
> ~~~
> bases = 'ACTTGCTTGAC'
> ~~~
> {: .language-python}
>
> 1. Який [standard library][stdlib] модуль може допомогти?
> 2. Яку функцію ви б вибрали з цього модуля? Чи є альтернативи?
> 3. Спробуйте написати програму, яка використовує функцію.
>
> > ## Рішення
> >
> > Здається, [random module][randommod] може допомогти.
> >
> > Рядок містить 11 символів, кожен з яких має позиційний індекс від 0 до 10.
> > Ви можете використати функцію `random.randrange`  (або псевдонім `random.randint`
> > якщо вам легше запам’ятати) щоб отримати випадкове ціле число від 0 до
> > 10, а потім виберіть символ у цій позиції:
> >
> > ~~~
> > from random import randrange
> >
> > random_index = randrange(len(bases))
> > print(bases[random_index])
> > ~~~
> > {: .language-python}
> >
> > або більш компактно:
> >
> > ~~~
> > from random import randrange
> >
> > print(bases[randrange(len(bases))])
> > ~~~
> > {: .language-python}
> >
> > Можливо, ви знайшли функцію `random.sample` ? Це дозволяє набирати
> > трохи менше коду:
> >
> > ~~~
> > from random import sample
> >
> > print(sample(bases, 1)[0])
> > ~~~
> > {: .language-python}
> >
> > Зауважте, що ця функція повертає список значень. Ми дізнаємось про
> > списки [episode 11]({% link _episodes/11-lists.md %}).
> >
> > Існують також інші функції, які ви можете використовувати, але з більш складним
> > результуючим кодом.
> {: .solution}
{: .challenge}


> ## Головоломка (задача Парсона). Приклад програмування
>
> Упорядкуйте наступні оператори таким чином, щоб друкувалась
> випадкова ДНК база  та її індекс в рядку.  Не всі оператори можуть бути потрібні.  За необхідості додавайте
> проміжні змінні.
>
> ~~~
> bases="ACTTGCTTGAC"
> import math
> import random
> ___ = random.randrange(n_bases)
> ___ = len(bases)
> print("random base ", bases[___], "base index", ___)
> ~~~
> {: .language-python}
>
> > ## Рішення
> >
> > ~~~
> > import math 
> > import random
> > bases = "ACTTGCTTGAC" 
> > n_bases = len(bases)
> > idx = random.randrange(n_bases)
> > print("random base", bases[idx], "base index", idx)
> > ~~~
> > {: .language-python}
> {: .solution}
{: .challenge}

> ## Коли доступна допомога?
>
> Коли ваш колега набирає `help(math)`,
> Python повідомляє про помилку:
>
> ~~~
> NameError: name 'math' is not defined
> ~~~
> {: .error}
>
> Що забув зробити ваш колега?
>
> > ## Рішення
> >
> > Імпортувати модуль math (`import math`)
> {: .solution}
{: .challenge}

> ## Імпорт із псевдонімами
>
> 1. Заповніть порожні поля так, щоб програма, наведена нижче, надрукувала `90.0`.
> 2. Перепишіть програму так, щоб вона використовувала `import` *без* `as`.
> 3. Яку форму вам легше читати?
>
> ~~~
> import math as m
> angle = ____.degrees(____.pi / 2)
> print(____)
> ~~~
> {: .language-python}
>
> > ## Рішення
> >
> > ~~~
> > import math as m
> > angle = m.degrees(m.pi / 2)
> > print(angle)
> > ~~~
> > {: .language-python}
> >
> > можна записати як
> >
> > ~~~
> > import math
> > angle = math.degrees(math.pi / 2)
> > print(angle)
> > ~~~
> > {: .language-python}
> >
> > Оскільки ви щойно написали код і знайомі з ним, ви можете насправді
> > вважати, що першу версію легше читати. Але при спробі прочитати величезну купу
> > коду, написаного кимось іншим, або коли повертаєтесь до свого власного величезного шматка
> > коду через кілька місяців, нескорочені імена часто легші, за винятком
> > випадку, де є чіткі умовні позначення скорочень.
> {: .solution}
{: .challenge}

> ## Існує багато способів імпорту бібліотек!
>
> Зіставте наступні оператори друку з відповідними викликами бібліотеки.
>
> Оператори друку:
>
> 1. `print("sin(pi/2) =", sin(pi/2))`
> 2. `print("sin(pi/2) =", m.sin(m.pi/2))`
> 3. `print("sin(pi/2) =", math.sin(math.pi/2))`
>
> Виклики бібліотеки:
>
> 1. `from math import sin, pi`
> 2. `import math`
> 3. `import math as m`
> 4. `from math import *`
>
> > ## Рішення
> >
> > 1. Виклики бібліотеки 1 та 4. Для прямого посилання на `sin` та `pi` без
> >    назви бібліотеки як префікса, вам потрібно використовувати `from ... import ...`
> >    оператор. Виклик бібліотеки 1 спеціально імпортує дві функції
> >    `sin` та `pi`, тоді як виклик бібліотеки 4 імпортує всі functions з модулю `math`.
> > 2. Виклик бібліотеки 3. Тут `sin` та `pi` посилаються на   скорочену назву бібліотеки
> >    `m` замість `math`. Виклик бібліотеки 3 робить саме це за допомогою
> >  синтаксису  `import ... as ...` , що створює псевдонім для `math` в формі
> >    скороченої назви  `m`.
> > 3. Виклик бібліотеки 2. Тут `sin` та `pi`  посилаються на звичайну бібліотеку
> >   `math`, ому буде достатньо звичайного виклику `import ...` .
> {: .solution}
{: .challenge}

> ## Імпорт певних елементів
>
> 1. Заповніть порожні поля так, щоб програма, наведена нижче, вивела `90.0`.
> 2. Чи вважаєте ви цю версію легшою для читання, ніж попередні?
> 3. Чому *не* програмісти завжди використовують цю форму `імпорту`?
>
> ~~~
> ____ math import ____, ____
> angle = degrees(pi / 2)
> print(angle)
> ~~~
> {: .language-python}
>
> > ## Рішення
> >
> > ~~~
> > from math import degrees, pi
> > angle = degrees(pi / 2)
> > print(angle)
> > ~~~
> > {: .language-python}
> >
> > Швидше за все, вам легше читати цю версію, оскільки вона менш щільна.
> > Основною причиною не використовувати цю форму імпорту є уникнення зіткнень імен.
> > Наприклад, ви б не імпортували `градуси` таким чином, якби також хотіли
> > використовувати назву `degrees` для власної змінної або функції. Або якщо ви
> > мали також імпортувати функцію з назвою `degrees` з іншої бібліотеки.
> {: .solution}
{: .challenge}

> ## Читання повідомлень про помилки
>
> 1. Прочитайте наведений нижче код і спробуйте визначити помилки, не запускаючи його.
> 2. Запустіть код і прочитайте повідомлення про помилку. Який тип помилки?
>
> ~~~
> from math import log
> log(0)
> ~~~
> {: .language-python}
>
> > ## Рішення
> >
> > 1. Логарифм `x` визначено лише для `x > 0`, тому 0 знаходиться за межами
> >    область визначення функції.
> > 2. Ви отримуєте повідомлення про помилку типу "ValueError", яке вказує на те, що функція
> >    отримала невідповідне значення аргументу. Додаткове повідомлення
> >    "math domain error" пояснює, в чому полягає проблема.
> {: .solution}
{: .challenge}

[pypi]: https://pypi.python.org/pypi/
[stdlib]: https://docs.python.org/3/library/
[randommod]: https://docs.python.org/3/library/random.html Front Matte: python-novice-gapminder/_episodes/07-reading-tabular.md:sgid "---
title: "Reading Tabular Data into DataFrames"
teaching: 10
exercises: 10
questions:
- "How can I read tabular data?"
objectives:
- "Import the Pandas library."
- "Use Pandas to load a simple CSV data set."
- "Get some basic information about a Pandas DataFrame."
keypoints:
- "Use the Pandas library to get basic statistics out of tabular data."
- "Use `index_col` to specify that a column's values should be used as row headings."
- "Use `DataFrame.info` to find out more about a dataframe."
- "The `DataFrame.columns` variable stores information about the dataframe's columns."
- "Use `DataFrame.T` to transpose a dataframe."
- "Use `DataFrame.describe` to get summary statistics about data."
---sgstr "---
title: "Читання табличних даних у DataFrames"
час навчання: 10
вправи: 10
питання:
- "Як я можу читати табличні дані?"
цілі:
- "Імпортувати бібліотеку Pandas"
- "Використати Pandas для завантаження простого набору даних CSV."
- "Отримати базову інформацію про Pandas DataFrame."
ключові моменти:
- "Використовуйте бібліотеку Pandas, щоб отримати базову статистику з табличних даних."
- "Використовуйте `index_col`, щоб вказати, що значення стовпця повинні використовуватися як заголовки рядків."
- "Використовуйте `DataFrame.info`, щоб дізнатися більше про фрейм даних."
- "Змінна `DataFrame.columns` зберігає інформацію про стовпці фрейму даних."
- "Використовуйте `DataFrame.T` для транспонування кадру даних."
- "Використовуйте `DataFrame.describe`, щоб отримати підсумкову статистику даних."
---

